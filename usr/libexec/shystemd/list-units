# @file		list-units
# 		shows systemd units we can manage
#
# @author	Wes Garland, wes@kingsds.network
# @date		Feb 2022
#

TAB="	"

set -- $args
(cd "${SYSTEMD_CONF_ROOT}/system" && ls ${1:-*}.service)\
| sed 's/\.service$//' \
| while read unit
  do
   $make unit="$unit" -f "${SHYSTEMD_LIB_DIR}"/service.mk status
  done \
| column -t -s"$TAB"